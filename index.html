<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML示例</title>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    /* 在这里可以添加自定义的CSS样式 */
  </style>
</head>
<body>
  <div id='showStatus' style="text-align: center;"></div>
  <button id='withdrawButton' onclick='Withdraw()'>撤回一条消息</button>

</body>
<script>
    var NewMessageTime = 10000; //10000毫秒，新增消息时间
    var Ohh_Gold = 0; //哦吼吼币
    var CurrentMessage = 0; //当前消息数量
    var WithDrawNeedTime = 600; //600毫秒，撤回需要时间
    
    setInterval(function(){
        document.getElementById('showStatus').innerHTML = `当前有<span style='color:green;font-size:30px;'>${CurrentMessage}</span>条消息可撤回,你有<span style='color:yellow;font-size:30px;'>${Ohh_Gold}</span>个金币。`;
    },500)
    
    //设置每一段时间添加一条消息
    setInterval(function(){
        CurrentMessage = CurrentMessage + 1;
    },NewMessageTime);
     
    function Withdraw() {
        if (CurrentMessage >= 1) {
            CurrentMessage = CurrentMessage - 1
            Ohh_Gold = Ohh_Gold + 1
            
            var Button = document.getElementById("withdrawButton");
            Button.disabled = true;
    
            // 等待 600 毫秒后启用按钮
            setTimeout(function() {
                Button.disabled = false;
            }, WithDrawNeedTime);
        } else {
            Swal.fire({
              icon: 'error',
              title: '啥笔哦吼吼',
              text: '啥笔哦吼吼消息不够还撤回，要-1条消息48'
            });
        }
    }
</script>
    
</html>
